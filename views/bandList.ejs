<div class="container-sm my-1">
  <div class="col-sm-8 mx-auto">
    <a class="btn btn-outline-light mb-3 mx-1 categ active" href="/band/lists" role="button">All</a>
    <% cats.forEach( (cat) => { %>
    <a class="btn btn-outline-light mb-3 mx-1 categ" href="/api/bands?cat_id=<%= cat._id %>" role="button"><%= cat.name %></a>
    <% }) %>
  </div>
</div>
<div class="container my-2">
  <div class="col-sm-8 mx-auto">
    <% bands.forEach( (band) => { %>
    <div class="card text-center text-bg-dark mb-3">
      <div class="card-header">Band</div>
      <div class="card-body">
        <h5 class="card-title"><%= band.name %></h5>
        <p class="card-text" style="color: rgb(201, 201, 201)"><i><%= band.categories %></i></p>
        <p class="card-text"><%= band.city %></p>
        <a href="/band/<%= band._id %>" class="btn btn-primary">Lihat Profil</a>
        <a href="#" class="btn btn-danger">Pesan Sekarang!</a>
      </div>
      <div class="card-footer fs-5"><strong class="price-here"><%= band.price %></strong></div>
    </div>
    <% }) %>
    <div class="d-grid gap-2 d-sm-block mt-2 mb-3">
      <a href="/home" class="btn btn-primary" role="button">Kembali ke Menu Utama</a>
    </div>
  </div>
</div>
<script>
  const head = document.querySelector('head');
  const link = document.createElement('link');
  link.setAttribute('rel', 'stylesheet');
  link.setAttribute('href', '../../public/css/bandList.css');
  head.appendChild(link);
</script>
<script>
  const prices = document.querySelectorAll('.price-here');
  const formatter = new Intl.NumberFormat(['ban', 'id']);
  prices.forEach((price) => {
    price.innerHTML = formatter.format(parseInt(price.innerHTML));
  });
</script>
<script>
  const catNow = '<%= catNow %>';
  if (catNow != '') {
    const categ = document.querySelectorAll('.categ');
    categ.forEach((cat) => {
      if (cat.innerHTML == catNow) {
        categ[0].classList.remove('active');
        cat.classList.add('active');
      }
    });
  }
</script>
